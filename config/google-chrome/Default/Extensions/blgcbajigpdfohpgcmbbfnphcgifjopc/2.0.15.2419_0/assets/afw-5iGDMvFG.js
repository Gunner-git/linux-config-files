import"./modulepreload-polyfill-xVUEmHkd.js";import{d as C}from"./_plugin-vue_export-helper-BZooHx69.js";import{c as I,a as T,f as x}from"./unhandledErrorHandler-C98_RUwm.js";import{i as A}from"./i18n-BpGmPe0p.js";import{B}from"./BaseHeader-Cx1XMkqP.js";import{B as b}from"./Button-3DsF5Zjt.js";import{b as D}from"./autofillFunctions-DCONxKp6.js";import{U as M,V as N,a2 as s,a0 as m,a9 as k,X as z,$ as p,Z as g,Y as y,aT as E,b0 as H,aV as O,W as S}from"./Settings-xuVU-BgW.js";const V={class:"autofill-warning-app"},Y={class:"content-wrapper"},j=["innerHTML"],q=M({__name:"AutofillWarningApp",setup(P){const{t:l}=N(),o=s(),h=I(),i=s(!1),u=s(null),f=s(""),d=s(""),L=m(()=>{let e=i.value?"autofill_on_insecure_origin_warning_warning_text.message":"autofill_from_different_subdomain_warning_text.message";return l(e,{ENTRY_DOMAIN:f.value,CURRENT_DOMAIN:d.value})}),R=m(()=>{let e=i.value?"autofill_on_insecure_origin_warning_title.message":"app_default_title.message";return l(e)}),U=m(()=>{let e=i.value?"autofill_on_insecure_origin_warning_warning_proceed.message":"autofill_from_different_subdomain_warning_proceed.message";return l(e)}),W=m(()=>{let e=i.value?"autofill_on_insecure_origin_warning_warning_cancel.message":"autofill_from_different_subdomain_warning_cancel.message";return l(e)}),w=()=>{E(o.value,r,{}),H(o.value,r)},_=new URLSearchParams(window.location.search),r=parseInt(_.get("frameId"),10);return k(async()=>{var v;const e=_.get("docUuid")??"",a=((v=_.get("isInsecureWarning"))==null?void 0:v.toLowerCase())==="true",n=_.get("entryDomain");if(chrome.tabs.query({active:!0,currentWindow:!0},c=>{o.value=c[0].id}),r>=0){const c=await D([r]);if(c){const t=new URL(c);d.value=a?t.origin:t.host}if(n)try{const t=new URL(n);f.value=a?t.origin:t.host}catch{f.value=n}}e&&(u.value=await h.getDocumentWithSecrets(e)),i.value=a}),(e,a)=>(S(),z("div",V,[p(B,{text:g(R),onClose:a[0]||(a[0]=n=>w())},null,8,["text"]),y("div",Y,[y("p",{innerHTML:g(L)},null,8,j),p(b,{id:"proceedButton",label:g(U),size:"sm",onClick:a[1]||(a[1]=n=>(async()=>{u.value&&u.value.type==="login"&&await O(o.value,r,{document:u.value})})())},null,8,["label"]),p(b,{class:"mt-15",id:"cancelButton",label:g(W),type:"secondary",size:"sm",onClick:a[2]||(a[2]=n=>w())},null,8,["label"])])]))}});T("autofillWarning"),C(q).use(A).use(x()).mount("#app");
